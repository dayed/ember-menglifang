/*! ember-menglifang 2014-02-12 */
!function(){Ember.TEMPLATES["components/mlf-login-form"]=Ember.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";return b.buffer.push('\n    <li>\n      <a target="_blank" '),b.buffer.push(k(c["bind-attr"].call(a,{hash:{href:"url"},hashTypes:{href:"ID"},hashContexts:{href:a},contexts:[],types:[],data:b}))),b.buffer.push(">\n        <img "),b.buffer.push(k(c["bind-attr"].call(a,{hash:{src:"icon"},hashTypes:{src:"ID"},hashContexts:{src:a},contexts:[],types:[],data:b}))),b.buffer.push("/>\n        <div>"),d=c._triageMustache.call(a,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(d||0===d)&&b.buffer.push(d),b.buffer.push("</div>\n      </a>\n    </li>\n    "),e}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var g,h,i,j="",k=this.escapeExpression,l=c.helperMissing,m=this;return e.buffer.push('<section class="main">\n  <form class="login" '),e.buffer.push(k(c.action.call(b,"login",{hash:{on:"submit"},hashTypes:{on:"STRING"},hashContexts:{on:b},contexts:[b],types:["STRING"],data:e}))),e.buffer.push(">\n    <h1>"),g=c._triageMustache.call(b,"view.titleHtmlSafe",{hash:{},hashTypes:{},hashContexts:{},contexts:[b],types:["ID"],data:e}),(g||0===g)&&e.buffer.push(g),e.buffer.push('</h1>\n    <p class="float">\n      <label for="identification"><i class="fa fa-user"></i>用户名/邮箱：</label>\n      '),e.buffer.push(k((h=c.input||b&&b.input,i={hash:{id:"identification",type:"text",value:"view.identification",placeholder:"请输入您的用户名/邮箱..."},hashTypes:{id:"STRING",type:"STRING",value:"ID",placeholder:"STRING"},hashContexts:{id:b,type:b,value:b,placeholder:b},contexts:[],types:[],data:e},h?h.call(b,i):l.call(b,"input",i)))),e.buffer.push('\n    </p>\n    <p class="float">\n      <label for="password"><i class="fa fa-key"></i>密码：</label>\n      '),e.buffer.push(k((h=c.input||b&&b.input,i={hash:{id:"password",type:"password",value:"view.password",placeholder:"请输入您的密码...","class":"showpassword"},hashTypes:{id:"STRING",type:"STRING",value:"ID",placeholder:"STRING","class":"STRING"},hashContexts:{id:b,type:b,value:b,placeholder:b,"class":b},contexts:[],types:[],data:e},h?h.call(b,i):l.call(b,"input",i)))),e.buffer.push('\n    <p class="clearfix"></p>\n    <p class="clearfix">\n      <button type="submit" class="pull-right">登录</button>\n    </p>\n    <p>'),g=c._triageMustache.call(b,"view.copyrightHtmlSafe",{hash:{},hashTypes:{},hashContexts:{},contexts:[b],types:["ID"],data:e}),(g||0===g)&&e.buffer.push(g),e.buffer.push('</p>\n  </form>\n</section>\n<div class="browsers">\n  <ul>\n    '),g=c.each.call(b,"view.supportedBrowers",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(1,f,e),contexts:[b],types:["ID"],data:e}),(g||0===g)&&e.buffer.push(g),e.buffer.push("\n  </ul>\n</div>\n"),j}),Ember.TEMPLATES["components/mlf-main-toolbar"]=Ember.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,h="";return b.buffer.push("\n    <li>\n      "),e=c["link-to"]||a&&a["link-to"],f={hash:{},hashTypes:{},hashContexts:{},inverse:l.noop,fn:l.program(2,g,b),contexts:[a],types:["ID"],data:b},d=e?e.call(a,"route",f):m.call(a,"link-to","route",f),(d||0===d)&&b.buffer.push(d),b.buffer.push("\n    </li>\n  "),h}function g(a,b){var d,e="";return b.buffer.push("\n        "),d=c._triageMustache.call(a,"text",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(d||0===d)&&b.buffer.push(d),b.buffer.push("\n      "),e}function h(a,b){var d,e,f,g="";return b.buffer.push("\n    <li>\n      "),e=c["link-to"]||a&&a["link-to"],f={hash:{},hashTypes:{},hashContexts:{},inverse:l.noop,fn:l.program(5,i,b),contexts:[a],types:["ID"],data:b},d=e?e.call(a,"route",f):m.call(a,"link-to","route",f),(d||0===d)&&b.buffer.push(d),b.buffer.push("\n    </li>\n  "),g}function i(a,b){var d,e="";return b.buffer.push("\n        <i "),b.buffer.push(n(c["bind-attr"].call(a,{hash:{"class":"icon"},hashTypes:{"class":"ID"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push("></i>\n        "),d=c._triageMustache.call(a,"text",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(d||0===d)&&b.buffer.push(d),b.buffer.push("\n      "),e}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var j,k="",l=this,m=c.helperMissing,n=this.escapeExpression;return e.buffer.push('<ol class="breadcrumb pull-left">\n  '),j=c.each.call(b,"view.parentItems",{hash:{},hashTypes:{},hashContexts:{},inverse:l.noop,fn:l.program(1,f,e),contexts:[b],types:["ID"],data:e}),(j||0===j)&&e.buffer.push(j),e.buffer.push('\n  <li class="active">'),j=c._triageMustache.call(b,"view.activeItem.text",{hash:{},hashTypes:{},hashContexts:{},contexts:[b],types:["ID"],data:e}),(j||0===j)&&e.buffer.push(j),e.buffer.push('</li>\n</ol>\n\n<ul class="links pull-right">\n  '),j=c.each.call(b,"view.links",{hash:{},hashTypes:{},hashContexts:{},inverse:l.noop,fn:l.program(4,h,e),contexts:[b],types:["ID"],data:e}),(j||0===j)&&e.buffer.push(j),e.buffer.push("\n</ul>\n"),k}),Ember.TEMPLATES["mlf-app-view"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g="",h=this.escapeExpression;return e.buffer.push(h(c.view.call(b,"Menglifang.Widgets.SidebarView",{hash:{title:"view.title",menus:"view.sidebar.menus",starterItems:"view.sidebar.starterItems"},hashTypes:{title:"ID",menus:"ID",starterItems:"ID"},hashContexts:{title:b,menus:b,starterItems:b},contexts:[b],types:["ID"],data:e}))),e.buffer.push('\n\n<div class="mlf-app-main">\n  '),f=c._triageMustache.call(b,"yield",{hash:{},hashTypes:{},hashContexts:{},contexts:[b],types:["ID"],data:e}),(f||0===f)&&e.buffer.push(f),e.buffer.push("\n</div>\n"),g}),Ember.TEMPLATES["mlf-sidebar-view"]=Ember.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";return b.buffer.push("\n      <ul "),b.buffer.push(m(c["bind-attr"].call(a,{hash:{id:"text"},hashTypes:{id:"ID"},hashContexts:{id:a},contexts:[],types:[],data:b}))),b.buffer.push(">\n        "),d=c.each.call(a,"items",{hash:{},hashTypes:{},hashContexts:{},inverse:n.noop,fn:n.program(2,g,b),contexts:[a],types:["ID"],data:b}),(d||0===d)&&b.buffer.push(d),b.buffer.push("\n      </ul>\n    "),e}function g(a,b){var d,e,f,g="";return b.buffer.push("\n          <li "),b.buffer.push(m(c["bind-attr"].call(a,{hash:{title:"text"},hashTypes:{title:"ID"},hashContexts:{title:a},contexts:[],types:[],data:b}))),b.buffer.push(' data-placement="right" data-toggle="tooltip">\n            '),e=c["link-to"]||a&&a["link-to"],f={hash:{},hashTypes:{},hashContexts:{},inverse:n.noop,fn:n.program(3,h,b),contexts:[a],types:["ID"],data:b},d=e?e.call(a,"route",f):o.call(a,"link-to","route",f),(d||0===d)&&b.buffer.push(d),b.buffer.push("\n          </li>\n        "),g}function h(a,b){var d,e="";return b.buffer.push('\n              <div class="icon">\n                <img '),b.buffer.push(m(c["bind-attr"].call(a,{hash:{src:"icon"},hashTypes:{src:"ID"},hashContexts:{src:a},contexts:[],types:[],data:b}))),b.buffer.push(' />\n                <div class="title">'),d=c._triageMustache.call(a,"text",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(d||0===d)&&b.buffer.push(d),b.buffer.push("</div>\n              </div>\n            "),e}function i(a,b){var d,e="";return b.buffer.push("\n      <li "),b.buffer.push(m(c["bind-attr"].call(a,{hash:{title:"text"},hashTypes:{title:"ID"},hashContexts:{title:a},contexts:[],types:[],data:b}))),b.buffer.push(' data-placement="right" data-toggle="tooltip">\n        <a '),b.buffer.push(m(c["bind-attr"].call(a,{hash:{href:"url"},hashTypes:{href:"ID"},hashContexts:{href:a},contexts:[],types:[],data:b}))),b.buffer.push(' data-toggle="tab">\n          <img class="menu-trigger" '),b.buffer.push(m(c["bind-attr"].call(a,{hash:{src:"icon"},hashTypes:{src:"ID"},hashContexts:{src:a},contexts:[],types:[],data:b}))),b.buffer.push(' />\n          <div class="title">'),d=c._triageMustache.call(a,"text",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(d||0===d)&&b.buffer.push(d),b.buffer.push("</div>\n        </a>\n      </li>\n    "),e}function j(a,b){var d,e="";return b.buffer.push("\n      <li>\n        <a "),b.buffer.push(m(c["bind-attr"].call(a,{hash:{href:"url"},hashTypes:{href:"STRING"},hashContexts:{href:a},contexts:[],types:[],data:b}))),b.buffer.push(">\n          <i "),b.buffer.push(m(c["bind-attr"].call(a,{hash:{"class":"icon"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push("></i>\n           "),d=c._triageMustache.call(a,"text",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(d||0===d)&&b.buffer.push(d),b.buffer.push("\n        </a>\n      </li>\n    "),e}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var k,l="",m=this.escapeExpression,n=this,o=c.helperMissing;return e.buffer.push('<div id="brand">\n  <div class="logo">'),k=c._triageMustache.call(b,"view.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[b],types:["ID"],data:e}),(k||0===k)&&e.buffer.push(k),e.buffer.push('</div>\n  <div class="switch-button" '),e.buffer.push(m(c.action.call(b,"toggle",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:b},contexts:[b],types:["STRING"],data:e}))),e.buffer.push('></div>\n</div>\n<div id="navigator">\n  <div class="menu-items">\n    '),k=c.each.call(b,"view.menus",{hash:{},hashTypes:{},hashContexts:{},inverse:n.noop,fn:n.program(1,f,e),contexts:[b],types:["ID"],data:e}),(k||0===k)&&e.buffer.push(k),e.buffer.push('\n  </div>\n  <ul class="menu-triggers">\n    '),k=c.each.call(b,"view.menus",{hash:{},hashTypes:{},hashContexts:{},inverse:n.noop,fn:n.program(5,i,e),contexts:[b],types:["ID"],data:e}),(k||0===k)&&e.buffer.push(k),e.buffer.push('\n  </ul>\n</div>\n<div id="starter" class="dropdown">\n  <a id="home" class="dropdown-toggle" href="#" data-toggle="dropdown">\n    <i class="fa fa-th-large"></i>\n  </a>\n  <ul class="dropdown-menu">\n    '),k=c.each.call(b,"view.starterItems",{hash:{},hashTypes:{},hashContexts:{},inverse:n.noop,fn:n.program(7,j,e),contexts:[b],types:["ID"],data:e}),(k||0===k)&&e.buffer.push(k),e.buffer.push("\n  </ul>\n</div>\n"),l})}(),function(){"undefined"==typeof Menglifang&&(Menglifang={},"undefined"!=typeof window&&(window.Mlf=window.Menglifang=Mlf=Menglifang)),Menglifang.Widgets=Ember.Namespace.create(),Menglifang.Widgets.VERSION="0.1.1",null!=(_ref=Ember.libraries)&&_ref.register("Menglifang Widgets",Menglifang.Widgets.VERSION)}(),function(){Menglifang.Widgets.LoginFormComponent=Ember.Component.extend({templateName:"components/mlf-login-form",classNames:["mlf-login-form"],title:"用户登录",copyright:"&copy; 2011-2014 北京梦立方网络科技有限公司",titleHtmlSafe:function(){return this.get("title").htmlSafe()}.property("title"),copyrightHtmlSafe:function(){return this.get("copyright").htmlSafe()}.property("copyright"),didInsertElement:function(){return Ember.$("input#identification").focus()},actions:{login:function(){return this.sendAction("action")}}})}(),function(){Menglifang.Widgets.MainToolbarComponent=Ember.Component.extend({templateName:"components/mlf-main-toolbar",classNames:["mlf-main-toolbar"],parentItems:function(){return this.get("items").slice(0,this.get("items.length")-1)}.property("items.@each"),activeItem:function(){return this.get("items.lastObject")}.property("items.@each")})}(),function(){Menglifang.Widgets.AppView=Ember.View.extend({layoutName:"mlf-app-view",classNames:["mlf-app"],title:"",sidebar:{menus:Ember.A(),starterItems:Ember.A()}})}(),function(){Menglifang.Widgets.SidebarView=Ember.View.extend({templateName:"mlf-sidebar-view",classNames:["mlf-sidebar"],classNameBindings:["expanded:mlf-sidebar-expanded"],expanded:!0,title:"A Title",menus:Ember.A(),starterItems:Ember.A(),didInsertElement:function(){return this.$().find('*[data-toggle="tooltip"]').tooltip(),this.$().find(".menu-triggers li a").first().click()},actions:{toggle:function(){return this.toggleProperty("expanded")}}})}(),function(){Menglifang.Widgets.ListItemView=Ember.ReusableListItemView.extend({classNames:["ember-list-item-view","mlf-list-item"]}),Menglifang.Widgets.ListView=Ember.ListView.extend({classNames:["ember-list-view","mlf-list"],itemViewClass:Menglifang.Widgets.ListItemView,didInsertElement:function(){return this.set("height",Ember.$(".ember-list-view").parent().height()),this._super()}})}(),function(){NotifierjsConfig.defaultTimeOut=250,NotifierjsConfig.position=["bottom","right"],"undefined"==typeof Menglifang&&(Menglifang={},"undefined"!=typeof window&&(window.Mlf=window.Menglifang=Mlf=Menglifang)),Menglifang.App={},Menglifang.App.VERSION="0.1.1",null!=(_ref=Ember.libraries)&&_ref.register("Menglifang App",Menglifang.App.VERSION)}(),function(){Menglifang.App.MainToolbarMixin=Ember.Mixin.create({needs:["authenticated"],breadcrumbItems:Ember.computed.alias("controllers.authenticated.breadcrumbItems"),toolbarLinks:Ember.computed.alias("controllers.authenticated.toolbarLinks"),setupToolbar:function(a,b){return this.setBreadcrumbItems(a),this.setToolbarLinks(b)},setBreadcrumbItems:function(a){return this.set("breadcrumbItems",a)},setToolbarLinks:function(a){return this.set("toolbarLinks",a)}})}(),function(){Menglifang.App.ModelManagerMixin=Ember.Mixin.create({modelName:"",humanModelName:"",afterSaveRoute:function(){return this.get("modelName")}.property("modelName"),afterCancelRoute:function(){return Ember.String.pluralize(this.get("modelName"))}.property("modelName"),afterDestroyRoute:function(){return Ember.String.pluralize(this.get("modelName"))}.property("modelName"),removeConfirmationTitle:"确认删除",removeConfirmationMessage:function(){return"您确认需要删除该"+this.get("humanModelName")+"吗？"}.property("humanModelName"),removeConfirmationButtons:[Ember.Object.create({title:"确认",clicked:"confirmRemove"}),Ember.Object.create({title:"取消",dismiss:"modal"})],beforeConfirmRemove:Ember.K,actions:{revertChanges:function(){return this.get("model.isDirty")?this.get("model").rollback():void 0},save:function(){var a=this;return this.get("model").save().then(function(){return Notifier.success("保存"+a.get("humanModelName")+"成功"),a.transitionToRoute(a.get("afterSaveRoute"),a.get("model"))},function(){return Notifier.error("保存"+a.get("humanModelName")+"失败")})},remove:function(){return Bootstrap.ModalManager.show("removeConfirmation")},cancel:function(){return this.get("model").rollback(),this.transitionToRoute(this.get("afterCancelRoute"))},confirmRemove:function(){var a=this;return Bootstrap.ModalManager.hide("removeConfirmation"),this.beforeConfirmRemove()?(this.get("model").deleteRecord(),this.get("model").save().then(function(){return Notifier.success("删除"+a.get("humanModelName")+"成功"),a.transitionToRoute(a.get("afterDestroyRoute"))},function(){return Notifier.error("删除"+a.get("humanModelName")+"失败")})):!1}}})}(),function(){Ember.TEMPLATES.account=Ember.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,h="";return b.buffer.push("\n  "),e=c["link-to"]||a&&a["link-to"],f={hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(2,g,b),contexts:[a],types:["ID"],data:b},d=e?e.call(a,"route",f):n.call(a,"link-to","route",f),(d||0===d)&&b.buffer.push(d),b.buffer.push("\n"),h}function g(a,b){var d,e="";return b.buffer.push("\n    <i "),b.buffer.push(l(c["bind-attr"].call(a,{hash:{"class":"icon"},hashTypes:{"class":"ID"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push("></i>\n    "),d=c._triageMustache.call(a,"text",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(d||0===d)&&b.buffer.push(d),b.buffer.push("\n  "),e}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var h,i,j,k="",l=this.escapeExpression,m=this,n=c.helperMissing;return i=c.collection||b&&b.collection,j={hash:{content:"listItems",height:100,width:200,rowHeight:45},hashTypes:{content:"ID",height:"INTEGER",width:"INTEGER",rowHeight:"INTEGER"},hashContexts:{content:b,height:b,width:b,rowHeight:b},inverse:m.noop,fn:m.program(1,f,e),contexts:[b],types:["ID"],data:e},h=i?i.call(b,"Menglifang.Widgets.ListView",j):n.call(b,"collection","Menglifang.Widgets.ListView",j),(h||0===h)&&e.buffer.push(h),e.buffer.push("\n\n"),h=c._triageMustache.call(b,"outlet",{hash:{},hashTypes:{},hashContexts:{},contexts:[b],types:["ID"],data:e}),(h||0===h)&&e.buffer.push(h),e.buffer.push("\n"),k}),Ember.TEMPLATES["account/password"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h="",i=c.helperMissing,j=this.escapeExpression;return e.buffer.push('<form class="form-horizontal" role="form">\n  <h2>修改密码</h2>\n  <div class="form-group">\n    <label class="col-sm-3 control-label" for="old-password">旧密码</label>\n    <div class="col-sm-9">\n      '),e.buffer.push(j((f=c.input||b&&b.input,g={hash:{value:"oldPassword","class":"form-control",type:"password",id:"old-password",placeholder:"请输入您当前的密码..."},hashTypes:{value:"ID","class":"STRING",type:"STRING",id:"STRING",placeholder:"STRING"},hashContexts:{value:b,"class":b,type:b,id:b,placeholder:b},contexts:[],types:[],data:e},f?f.call(b,g):i.call(b,"input",g)))),e.buffer.push('\n    </div>\n  </div>\n  <div class="form-group">\n    <label class="col-sm-3 control-label" for="new-password">新密码</label>\n    <div class="col-sm-9">\n      '),e.buffer.push(j((f=c.input||b&&b.input,g={hash:{value:"newPassword","class":"form-control",type:"password",id:"new-password",placeholder:"请输入您的新密码..."},hashTypes:{value:"ID","class":"STRING",type:"STRING",id:"STRING",placeholder:"STRING"},hashContexts:{value:b,"class":b,type:b,id:b,placeholder:b},contexts:[],types:[],data:e},f?f.call(b,g):i.call(b,"input",g)))),e.buffer.push('\n    </div>\n  </div>\n  <div class="form-group">\n    <label class="col-sm-3 control-label" for="password-confirmation">密码确认</label>\n    <div class="col-sm-9">\n      '),e.buffer.push(j((f=c.input||b&&b.input,g={hash:{value:"passwordConfirmation","class":"form-control",type:"password",id:"password-confirmation",placeholder:"请再次输入您的新密码..."},hashTypes:{value:"ID","class":"STRING",type:"STRING",id:"STRING",placeholder:"STRING"},hashContexts:{value:b,"class":b,type:b,id:b,placeholder:b},contexts:[],types:[],data:e},f?f.call(b,g):i.call(b,"input",g)))),e.buffer.push('\n    </div>\n  </div>\n\n  <div class="form-group buttons">\n    <div class="col-sm-3"></div>\n    <div class="col-sm-9">\n      <button class="btn btn-primary" '),e.buffer.push(j(c.action.call(b,"save",{hash:{},hashTypes:{},hashContexts:{},contexts:[b],types:["STRING"],data:e}))),e.buffer.push('>\n        <i class="fa fa-save"></i> 保存\n      </button>\n      <button class="btn btn-link" '),e.buffer.push(j(c.action.call(b,"revertChanges",{hash:{},hashTypes:{},hashContexts:{},contexts:[b],types:["STRING"],data:e}))),e.buffer.push(">\n        重置\n      </button>\n    </div>\n  </div>\n</form>\n"),h}),Ember.TEMPLATES["account/profile"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i="",j=c.helperMissing,k=this.escapeExpression;return e.buffer.push('<form class="form-horizontal" role="form">\n  <h2>个人信息</h2>\n  <h4>基本信息</h4>\n  <div class="form-group">\n    <label class="col-sm-3 control-label">用户名</label>\n    <div class="col-sm-9">\n      <p class="form-control-static">'),f=c._triageMustache.call(b,"username",{hash:{},hashTypes:{},hashContexts:{},contexts:[b],types:["ID"],data:e}),(f||0===f)&&e.buffer.push(f),e.buffer.push('</p>\n    </div>\n  </div>\n  <div class="form-group">\n    <label class="col-sm-3 control-label" for="realname">真实姓名</label>\n    <div class="col-sm-9">\n      '),e.buffer.push(k((g=c.input||b&&b.input,h={hash:{value:"realname","class":"form-control",type:"text",id:"realname",placeholder:"可选"},hashTypes:{value:"ID","class":"STRING",type:"STRING",id:"STRING",placeholder:"STRING"},hashContexts:{value:b,"class":b,type:b,id:b,placeholder:b},contexts:[],types:[],data:e},g?g.call(b,h):j.call(b,"input",h)))),e.buffer.push('\n    </div>\n  </div>\n  <div class="form-group">\n    <label class="col-sm-3 control-label" for="email">邮箱</label>\n    <div class="col-sm-9">\n      '),e.buffer.push(k((g=c.input||b&&b.input,h={hash:{value:"email","class":"form-control",type:"text",id:"email",placeholder:"必填且唯一"},hashTypes:{value:"ID","class":"STRING",type:"STRING",id:"STRING",placeholder:"STRING"},hashContexts:{value:b,"class":b,type:b,id:b,placeholder:b},contexts:[],types:[],data:e},g?g.call(b,h):j.call(b,"input",h)))),e.buffer.push('\n    </div>\n  </div>\n  <div class="form-group">\n    <label class="col-sm-3 control-label" for="role">角色</label>\n    <div class="col-sm-9">\n      <p class="form-control-static">'),e.buffer.push(k((g=c.translate||b&&b.translate,h={hash:{},hashTypes:{},hashContexts:{},contexts:[b],types:["ID"],data:e},g?g.call(b,"roles",h):j.call(b,"translate","roles",h)))),e.buffer.push('</p>\n    </div>\n  </div>\n  <div class="form-group buttons">\n    <div class="col-sm-3"></div>\n    <div class="col-sm-9">\n      <button class="btn btn-primary" '),e.buffer.push(k(c.action.call(b,"save",{hash:{},hashTypes:{},hashContexts:{},contexts:[b],types:["STRING"],data:e}))),e.buffer.push('>\n        <i class="fa fa-save"></i> 保存\n      </button>\n      <button class="btn btn-link" '),e.buffer.push(k(c.action.call(b,"revertChanges",{hash:{},hashTypes:{},hashContexts:{},contexts:[b],types:["STRING"],data:e}))),e.buffer.push(">\n        重置\n      </button>\n    </div>\n  </div>\n</form>\n"),i}),Ember.TEMPLATES.authenticated=Ember.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,g="";return b.buffer.push("\n  "),b.buffer.push(j((e=c["main-toolbar"]||a&&a["main-toolbar"],f={hash:{items:"breadcrumbItems",links:"toolbarLinks"},hashTypes:{items:"ID",links:"ID"},hashContexts:{items:a,links:a},contexts:[],types:[],data:b},e?e.call(a,f):i.call(a,"main-toolbar",f)))),b.buffer.push('\n\n  <div class="container-fluid">\n    '),d=c._triageMustache.call(a,"outlet",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(d||0===d)&&b.buffer.push(d),b.buffer.push("\n  </div>\n"),g}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var g,h="",i=c.helperMissing,j=this.escapeExpression,k=this;return g=c.view.call(b,"Menglifang.Widgets.AppView",{hash:{title:"title",sidebar:"sidebar"},hashTypes:{title:"ID",sidebar:"ID"},hashContexts:{title:b,sidebar:b},inverse:k.noop,fn:k.program(1,f,e),contexts:[b],types:["ID"],data:e}),(g||0===g)&&e.buffer.push(g),e.buffer.push("\n"),h}),Ember.TEMPLATES.login=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h="",i=c.helperMissing,j=this.escapeExpression;return e.buffer.push(j((f=c["login-form"]||b&&b["login-form"],g={hash:{title:"title",copyright:"copyright",identification:"identification",password:"password",supportedBrowers:"supportedBrowers",action:"authenticate"},hashTypes:{title:"ID",copyright:"ID",identification:"ID",password:"ID",supportedBrowers:"ID",action:"STRING"},hashContexts:{title:b,copyright:b,identification:b,password:b,supportedBrowers:b,action:b},contexts:[],types:[],data:e},f?f.call(b,g):i.call(b,"login-form",g)))),e.buffer.push("\n"),h}),Ember.TEMPLATES.user=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h="",i=c.helperMissing,j=this.escapeExpression;return e.buffer.push(j((f=c.partial||b&&b.partial,g={hash:{},hashTypes:{},hashContexts:{},contexts:[b],types:["STRING"],data:e},f?f.call(b,"users/form",g):i.call(b,"partial","users/form",g)))),e.buffer.push("\n"),h}),Ember.TEMPLATES.users=Ember.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,h="";return b.buffer.push("\n  "),e=c["link-to"]||a&&a["link-to"],f={hash:{},hashTypes:{},hashContexts:{},inverse:l.noop,fn:l.program(2,g,b),contexts:[a,a],types:["STRING","ID"],data:b},d=e?e.call(a,"user","id",f):m.call(a,"link-to","user","id",f),(d||0===d)&&b.buffer.push(d),b.buffer.push("\n"),h}function g(a,b){var d,e="";return b.buffer.push('\n    <div class="name">\n      '),d=c._triageMustache.call(a,"username",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(d||0===d)&&b.buffer.push(d),b.buffer.push(" ("),d=c._triageMustache.call(a,"realname",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(d||0===d)&&b.buffer.push(d),b.buffer.push(')\n    </div>\n    <div class="email">\n      '),d=c._triageMustache.call(a,"email",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(d||0===d)&&b.buffer.push(d),b.buffer.push("\n    </div>\n  "),e}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var h,i,j,k="",l=this,m=c.helperMissing;return i=c.collection||b&&b.collection,j={hash:{content:"model",height:100,width:300,rowHeight:60},hashTypes:{content:"ID",height:"INTEGER",width:"INTEGER",rowHeight:"INTEGER"},hashContexts:{content:b,height:b,width:b,rowHeight:b},inverse:l.noop,fn:l.program(1,f,e),contexts:[b],types:["ID"],data:e},h=i?i.call(b,"Menglifang.Widgets.ListView",j):m.call(b,"collection","Menglifang.Widgets.ListView",j),(h||0===h)&&e.buffer.push(h),e.buffer.push("\n\n"),h=c._triageMustache.call(b,"outlet",{hash:{},hashTypes:{},hashContexts:{},contexts:[b],types:["ID"],data:e}),(h||0===h)&&e.buffer.push(h),e.buffer.push("\n"),k}),Ember.TEMPLATES["users/form"]=Ember.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return b.buffer.push("\n        "),b.buffer.push(p((d=c.input||a&&a.input,e={hash:{value:"username","class":"form-control",type:"text",id:"username",placeholder:"必填且唯一"},hashTypes:{value:"ID","class":"STRING",type:"STRING",id:"STRING",placeholder:"STRING"},hashContexts:{value:a,"class":a,type:a,id:a,placeholder:a},contexts:[],types:[],data:b},d?d.call(a,e):o.call(a,"input",e)))),b.buffer.push("\n      "),f}function g(a,b){var d,e="";return b.buffer.push('\n        <p class="form-control-static">'),d=c._triageMustache.call(a,"username",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(d||0===d)&&b.buffer.push(d),b.buffer.push("</p>\n      "),e}function h(a,b){var d="";return b.buffer.push('\n        <button class="btn btn-link" '),b.buffer.push(p(c.action.call(a,"cancel",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["STRING"],data:b}))),b.buffer.push(">\n          取消\n        </button>\n      "),d}function i(a,b){var d="";return b.buffer.push('\n        <button class="btn btn-danger" '),b.buffer.push(p(c.action.call(a,"remove",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["STRING"],data:b}))),b.buffer.push('>\n          <i class="fa fa-times"></i> 删除\n        </button>\n        <button class="btn btn-link" '),b.buffer.push(p(c.action.call(a,"revertChanges",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["STRING"],data:b}))),b.buffer.push(">\n          重置\n        </button>\n      "),d}function j(a,b){var d,e="";return b.buffer.push("\n  <p>"),d=c._triageMustache.call(a,"removeConfirmationMessage",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(d||0===d)&&b.buffer.push(d),b.buffer.push("</p>\n"),e}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var k,l,m,n="",o=c.helperMissing,p=this.escapeExpression,q=this;return e.buffer.push('<form class="form-horizontal" role="form">\n  <h2>'),k=c._triageMustache.call(b,"formLegend",{hash:{},hashTypes:{},hashContexts:{},contexts:[b],types:["ID"],data:e}),(k||0===k)&&e.buffer.push(k),e.buffer.push('</h2>\n  <div class="form-group">\n    <label class="col-sm-3 control-label" for="username">用户名</label>\n    <div class="col-sm-9">\n      '),k=c["if"].call(b,"model.isNew",{hash:{},hashTypes:{},hashContexts:{},inverse:q.program(3,g,e),fn:q.program(1,f,e),contexts:[b],types:["ID"],data:e}),(k||0===k)&&e.buffer.push(k),e.buffer.push('\n    </div>\n  </div>\n  <div class="form-group">\n    <label class="col-sm-3 control-label" for="realname">真实姓名</label>\n    <div class="col-sm-9">\n      '),e.buffer.push(p((l=c.input||b&&b.input,m={hash:{value:"realname","class":"form-control",type:"text",id:"realname",placeholder:"可选"},hashTypes:{value:"ID","class":"STRING",type:"STRING",id:"STRING",placeholder:"STRING"},hashContexts:{value:b,"class":b,type:b,id:b,placeholder:b},contexts:[],types:[],data:e},l?l.call(b,m):o.call(b,"input",m)))),e.buffer.push('\n    </div>\n  </div>\n  <div class="form-group">\n    <label class="col-sm-3 control-label" for="email">邮箱</label>\n    <div class="col-sm-9">\n      '),e.buffer.push(p((l=c.input||b&&b.input,m={hash:{value:"email","class":"form-control",type:"email",id:"email",placeholder:"必填且唯一"},hashTypes:{value:"ID","class":"STRING",type:"STRING",id:"STRING",placeholder:"STRING"},hashContexts:{value:b,"class":b,type:b,id:b,placeholder:b},contexts:[],types:[],data:e},l?l.call(b,m):o.call(b,"input",m)))),e.buffer.push('\n    </div>\n  </div>\n  <div class="form-group">\n    <label class="col-sm-3 control-label" for="password">密码</label>\n    <div class="col-sm-9">\n      '),e.buffer.push(p((l=c.input||b&&b.input,m={hash:{value:"password","class":"form-control",type:"password",id:"password",placeholder:"不少于8位"},hashTypes:{value:"ID","class":"STRING",type:"STRING",id:"STRING",placeholder:"STRING"},hashContexts:{value:b,"class":b,type:b,id:b,placeholder:b},contexts:[],types:[],data:e},l?l.call(b,m):o.call(b,"input",m)))),e.buffer.push('\n    </div>\n  </div>\n  <div class="form-group">\n    <label class="col-sm-3 control-label" for="roles">角色</label>\n    <div class="col-sm-9">\n      '),e.buffer.push(p(c.view.call(b,"Ember.Select",{hash:{content:"availableRoles",value:"roles",optionLabelPath:"content.label",optionValuePath:"content.value",prompt:"-> 请选择用户角色 <-"},hashTypes:{content:"ID",value:"ID",optionLabelPath:"STRING",optionValuePath:"STRING",prompt:"STRING"},hashContexts:{content:b,value:b,optionLabelPath:b,optionValuePath:b,prompt:b},contexts:[b],types:["ID"],data:e}))),e.buffer.push('\n    </div>\n  </div>\n\n  <div class="form-group buttons">\n    <div class="col-sm-3"></div>\n    <div class="col-sm-9">\n      <button class="btn btn-primary" '),e.buffer.push(p(c.action.call(b,"save",{hash:{},hashTypes:{},hashContexts:{},contexts:[b],types:["STRING"],data:e}))),e.buffer.push('>\n        <i class="fa fa-save"></i> 保存\n      </button>\n      '),k=c["if"].call(b,"model.isNew",{hash:{},hashTypes:{},hashContexts:{},inverse:q.program(7,i,e),fn:q.program(5,h,e),contexts:[b],types:["ID"],data:e}),(k||0===k)&&e.buffer.push(k),e.buffer.push("\n    </div>\n  </div>\n</form>\n\n"),l=c["bs-modal"]||b&&b["bs-modal"],m={hash:{name:"removeConfirmation",fade:!0,footerButtons:"removeConfirmationButtons",title:"removeConfirmationTitle"},hashTypes:{name:"STRING",fade:"BOOLEAN",footerButtons:"ID",title:"ID"},hashContexts:{name:b,fade:b,footerButtons:b,title:b},inverse:q.noop,fn:q.program(9,j,e),contexts:[],types:[],data:e},k=l?l.call(b,m):o.call(b,"bs-modal",m),(k||0===k)&&e.buffer.push(k),e.buffer.push("\n"),n}),Ember.TEMPLATES["users/new"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h="",i=c.helperMissing,j=this.escapeExpression;return e.buffer.push(j((f=c.partial||b&&b.partial,g={hash:{},hashTypes:{},hashContexts:{},contexts:[b],types:["STRING"],data:e},f?f.call(b,"users/form",g):i.call(b,"partial","users/form",g)))),e.buffer.push("\n"),h})}(),function(){Ember.Application.initializer({name:"authentication",initialize:function(a,b){return Ember.SimpleAuth.Session.reopen({account:function(){var b;return b=this.get("account_id"),Ember.isEmpty(b)?void 0:a.lookup("store:main").find("user",b)}.property("accountId")}),Ember.SimpleAuth.setup(b,{authorizer:Menglifang.App.DeviseAuthorizer,routeAfterAuthentication:"authenticated",routeAfterInvalidation:"login"})
}})}(),function(){Menglifang.App.DeviseAuthenticator=Ember.SimpleAuth.Authenticators.OAuth2.extend({authenticate:function(a){return new Ember.RSVP.Promise(function(b,c){return Ember.$.ajax({url:"/users/sign_in",type:"POST",data:{grant_type:"password",user:{login:a.identification,password:a.password}},dataType:"json"}).then(function(a){return Ember.run(function(){return b({user_email:a.user.email,user_token:a.user.authentication_token,account_id:a.user.id,access_token:a.user.authentication_token})})},function(a){return Ember.run(function(){return c(a.responseText)})})})}})}(),function(){Menglifang.App.DeviseAuthorizer=Ember.SimpleAuth.Authorizers.Base.extend({authorize:function(a){return Ember.isEmpty(this.get("session.user_email"))||Ember.isEmpty(this.get("session.user_token"))?void 0:(a.setRequestHeader("X-User-Email",this.get("session.user_email")),a.setRequestHeader("X-User-Token",this.get("session.user_token")))}})}(),function(){Ember.Handlebars.helper("translate",function(a){return Menglifang.App.TRANSLATIONS[a]})}(),function(){Menglifang.App.User=DS.Model.extend({username:DS.attr(),realname:DS.attr(),email:DS.attr(),password:DS.attr(),roles:DS.attr(),accessLocked:DS.attr("boolean"),changePassword:function(a,b,c){return new Ember.RSVP.Promise(function(d,e){return b!==c?e("您两次输入的新密码不匹配"):$.ajax({url:"/"+Menglifang.App.namespace+"/password",type:"PUT",data:{password:{current_password:a,password:b,password_confirmation:c}},dataType:"json"}).then(function(){return d()},function(a){return e(a.responseJSON.errors.password)})})}})}(),function(){Menglifang.App.AccountController=Ember.ObjectController.extend(Menglifang.App.MainToolbarMixin,{needs:"authenticated",availableRoles:Ember.computed.alias("controllers.authenticated.availableRoles"),init:function(){return this.setupToolbar([{text:"个人设置"}]),this._super()},listItems:[{text:"个人信息",icon:"fa fa-user",route:"account.profile"},{text:"修改密码",icon:"fa fa-key",route:"account.password"}]})}(),function(){Menglifang.App.AccountPasswordController=Ember.ObjectController.extend(Menglifang.App.MainToolbarMixin,{actions:{save:function(){var a=this;return this.get("model").changePassword(this.get("oldPassword"),this.get("newPassword"),this.get("passwordConfirmation")).then(function(){return Notifier.success("修改密码成功"),a.setProperties({oldPassword:null,newPassword:null,passwordConfirmation:null})},function(a){return Notifier.error(a)})},revertChanges:function(){return this.setProperties({oldPassword:null,newPassword:null,passwordConfirmation:null})}}})}(),function(){Menglifang.App.AccountProfileController=Ember.ObjectController.extend(Menglifang.App.MainToolbarMixin,{actions:{revertChanges:function(){return this.get("model.isDirty")?this.get("model").rollback():void 0},save:function(){return this.get("model").save().then(function(){return Notifier.success("保存用户成功")},function(){return Notifier.error("保存用户失败")})}}})}(),function(){Menglifang.App.AuthenticatedController=Ember.ObjectController.extend({title:"MLF",sidebar:{menus:[{icon:"/images/settings.png",url:"#系统管理",text:"系统管理",items:[{icon:"/images/users.png",route:"users",text:"用户管理"}]}],starterItems:[{icon:"fa fa-user",url:"#/account/profile",text:"个人信息"},{icon:"fa fa-key",url:"#/account/password",text:"修改密码"},{icon:"fa fa-sign-out",url:"#/logout",text:"注销"}]},availableRoles:[{label:"管理员",value:"admin"},{label:"普通用户",value:"user"}],breadcrumbItems:[],toolbarLinks:[]})}(),function(){Menglifang.App.LoginController=Ember.Controller.extend(Ember.SimpleAuth.LoginControllerMixin,{authenticator:Menglifang.App.DeviseAuthenticator,supportedBrowers:[{name:"Chrome",url:"http://www.google.com/chrome",icon:"/images/chrome.png"},{name:"Firefox",url:"http://www.mozilla.org/en-US/firefox/new/",icon:"/images/firefox.png"},{name:"Safari",url:"http://www.apple.com/sg/safari/",icon:"/images/safari.png"},{name:"IE 9+",url:"http://windows.microsoft.com/en-sg/internet-explorer/ie-10-worldwide-languages",icon:"/images/ie.png"}],actions:{login:function(){return this.send("authenticate")}}})}(),function(){Menglifang.App.UserController=Ember.ObjectController.extend(Menglifang.App.ModelManagerMixin,Menglifang.App.MainToolbarMixin,{needs:["authenticated"],formLegend:"用户管理",availableRoles:Ember.computed.alias("controllers.authenticated.availableRoles"),modelName:"user",humanModelName:"用户",beforeConfirmRemove:function(){return this.get("model.id")===this.get("session.account_id")?(Notifier.error("对不起，您不允许删除自己！"),!1):!0}})}(),function(){Menglifang.App.UsersController=Ember.ArrayController.extend(Menglifang.App.MainToolbarMixin,{init:function(){return this.setupToolbar([{text:"用户管理"}],[{text:"添加用户",route:"users.new",icon:"fa fa-plus"}]),this._super()}})}(),function(){Menglifang.App.LoginFormComponent=Menglifang.Widgets.LoginFormComponent.extend()}(),function(){Menglifang.App.MainToolbarComponent=Menglifang.Widgets.MainToolbarComponent.extend()}(),function(){Menglifang.App.AuthenticatedView=Ember.View.extend({classNames:["mlf-authenticated-view"]})}(),function(){Menglifang.App.ApplicationAdapter=DS.ActiveModelAdapter.extend()}(),function(){Menglifang.App.ApplicationSerializer=DS.ActiveModelSerializer.extend()}(),function(){Menglifang.App.AccountPasswordRoute=Ember.Route.extend({beforeModel:function(){return this.controllerFor("account").set("breadcrumbItems",[{text:"个人设置",route:"account"},{text:"修改密码"}])},model:function(){return this.get("session.account")},actions:{willTransition:function(){var a;return a=this.get("controller"),a.set("breadcrumbItems",a.get("breadcrumbItems").slice(0,-1))}}})}(),function(){Menglifang.App.AccountProfileRoute=Ember.Route.extend({beforeModel:function(){return this.controllerFor("account").set("breadcrumbItems",[{text:"个人设置",route:"account"},{text:"个人信息"}])},model:function(){return this.get("session.account")},actions:{willTransition:function(){var a;return a=this.get("controller"),a.set("breadcrumbItems",a.get("breadcrumbItems").slice(0,-1))}}})}(),function(){Menglifang.App.ApplicationRoute=Ember.Route.extend(Ember.SimpleAuth.ApplicationRouteMixin)}(),function(){Menglifang.App.AuthenticatedRoute=Ember.Route.extend(Ember.SimpleAuth.AuthenticatedRouteMixin,{beforeModel:function(){return this.get("session.isAuthenticated")?void 0:this.transitionTo("login")}})}(),function(){Menglifang.App.authenticationRoute=Ember.Route.extend({setupController:function(a){return a.set("errorMessage",null)}})}(),function(){Menglifang.App.LogoutRoute=Ember.Route.extend({beforeModel:function(){return this.send("invalidateSession")}})}(),function(){Menglifang.App.UserRoute=Ember.Route.extend({beforeModel:function(){return this.controllerFor("users").set("breadcrumbItems",[{text:"用户管理",route:"users"},{text:"编辑用户"}])},model:function(a){return this.store.find("user",a.user_id)},setupController:function(a,b){return a.set("formLegend","编辑用户"),this._super(a,b)},actions:{willTransition:function(){var a;return a=this.get("controller"),a.send("revertChanges"),a.set("breadcrumbItems",a.get("breadcrumbItems").slice(0,-1))}}})}(),function(){Menglifang.App.UsersNewRoute=Ember.Route.extend({controllerName:"user",beforeModel:function(){return this.controllerFor("users").set("breadcrumbItems",[{text:"用户管理",route:"users"},{text:"添加用户"}])},model:function(){return this.store.createRecord("user")},setupController:function(a,b){return a.set("formLegend","添加用户"),this._super(a,b)},actions:{willTransition:function(){var a;return a=this.get("controller"),a.send("revertChanges"),a.set("breadcrumbItems",a.get("breadcrumbItems").slice(0,-1))}}})}(),function(){Menglifang.App.UsersRoute=Ember.Route.extend({model:function(){return this.store.find("user")}})}(),function(){Menglifang.App.create=function(a){var b;return Menglifang.App.ApplicationAdapter.reopen({host:a.host,namespace:a.namespace}),Menglifang.App.LoginController.reopen({title:a.title,copyright:a.copyright}),b=Ember.Application.create(),$.extend(Menglifang.App,a||{}),$.extend(b,Menglifang.App),b}}();