/*! ember-menglifang 2014-02-05 */
!function(){Ember.TEMPLATES.authenticated=Ember.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";return b.buffer.push("\n  "),d=c._triageMustache.call(a,"outlet",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(d||0===d)&&b.buffer.push(d),b.buffer.push("\n"),e}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var g,h="",i=this;return g=c.view.call(b,"Menglifang.App.AppView",{hash:{title:"title",sidebar:"sidebar"},hashTypes:{title:"ID",sidebar:"ID"},hashContexts:{title:b,sidebar:b},inverse:i.noop,fn:i.program(1,f,e),contexts:[b],types:["ID"],data:e}),(g||0===g)&&e.buffer.push(g),e.buffer.push("\n"),h}),Ember.TEMPLATES.login=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h="",i=c.helperMissing,j=this.escapeExpression;return e.buffer.push(j((f=c["login-form"]||b&&b["login-form"],g={hash:{title:"科技人力资源数据库",copyright:"&copy; 2013-2014 中国教育科技研究院",identification:"identification",password:"password",supportedBrowers:"supportedBrowers",action:"authenticate"},hashTypes:{title:"STRING",copyright:"STRING",identification:"ID",password:"ID",supportedBrowers:"ID",action:"STRING"},hashContexts:{title:b,copyright:b,identification:b,password:b,supportedBrowers:b,action:b},contexts:[],types:[],data:e},f?f.call(b,g):i.call(b,"login-form",g)))),e.buffer.push("\n"),h})}(),function(){"undefined"==typeof Menglifang&&(Menglifang={},"undefined"!=typeof window&&(window.Mlf=window.Menglifang=Mlf=Menglifang)),Menglifang.App=Ember.Namespace.create(),Menglifang.App.VERSION="0.0.1",null!=(_ref=Ember.libraries)&&_ref.register("Menglifang App",Menglifang.App.VERSION)}(),function(){Menglifang.App.AuthenticatedController=Ember.ObjectController.extend({sidebar:{menus:[{icon:"/assets/settings.png",url:"#系统管理",text:"系统管理",items:[{icon:"/assets/users.png",route:"users",text:"用户管理"}]}],starterItems:[{icon:"fa fa-user",url:"#/account/profile",text:"个人信息"},{icon:"fa fa-key",url:"#/account/password",text:"修改密码"},{icon:"fa fa-sign-out",url:"#/logout",text:"注销"}]},availableRoles:[{label:"管理员",value:"admin"}]})}(),function(){Menglifang.App.DeviseAuthenticator=Ember.SimpleAuth.Authenticators.OAuth2.extend({authenticate:function(a){return new Ember.RSVP.Promise(function(b,c){return Ember.$.ajax({url:"/users/sign_in.json",type:"POST",data:{grant_type:"password",user:{login:a.identification,password:a.password}}}).then(function(a){return Ember.run(function(){return b({user_email:a.user.email,user_token:a.user.authentication_token,account_id:a.user.id})})},function(a){return Ember.run(function(){return c(a.responseText)})})})}})}(),function(){Menglifang.App.DeviseAuthorizer=Ember.SimpleAuth.Authorizers.Base.extend({authorize:function(a){return Ember.isEmpty(this.get("session.user_email"))||Ember.isEmpty(this.get("session.user_token"))?void 0:(a.setRequestHeader("X-User-Email",this.get("session.user_email")),a.setRequestHeader("X-User-Token",this.get("session.user_token")))}})}();